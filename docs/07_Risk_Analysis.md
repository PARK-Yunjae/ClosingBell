# 7. ì˜ˆìƒ ì• ë¡œì‚¬í•­ ë° ëŒ€ì‘ì „ëµ (Risk Analysis)

**í”„ë¡œì íŠ¸ëª…:** ì¢…ê°€ë§¤ë§¤ ìŠ¤í¬ë¦¬ë„ˆ  
**ë²„ì „:** 1.0  
**ì‘ì„±ì¼:** 2025-01-06  

---

## 7.1 ê°œìš”

### 7.1.1 ê²°ë¡ 
ê°œë°œ ë° ìš´ì˜ ë‹¨ê³„ì—ì„œ ì˜ˆìƒë˜ëŠ” 20ê°€ì§€ ì• ë¡œì‚¬í•­ì„ ì‹ë³„í•˜ê³ , ê°ê°ì— ëŒ€í•œ ëŒ€ì‘ì „ëµì„ ì‚¬ì „ì— ìˆ˜ë¦½í•œë‹¤.

### 7.1.2 ê·¼ê±°
- ì„ ì œì  ë¦¬ìŠ¤í¬ ê´€ë¦¬ë¡œ ê°œë°œ ì§€ì—° ìµœì†Œí™”
- ìš´ì˜ ì¤‘ ì¥ì•  ëŒ€ì‘ ì‹œê°„ ë‹¨ì¶•
- ê¸°ì¡´ Hantubot ìš´ì˜ ê²½í—˜ ë°˜ì˜

### 7.1.3 ë¦¬ìŠ¤í¬ ë¶„ë¥˜

| ì¹´í…Œê³ ë¦¬ | ì„¤ëª… |
|----------|------|
| ğŸ”´ HIGH | ë°œìƒ ì‹œ ì„œë¹„ìŠ¤ ì¤‘ë‹¨ ë˜ëŠ” ì‹¬ê°í•œ ì˜í–¥ |
| ğŸŸ¡ MEDIUM | ê¸°ëŠ¥ ì œí•œ ë˜ëŠ” í’ˆì§ˆ ì €í•˜ |
| ğŸŸ¢ LOW | ë¶ˆí¸í•¨ ì •ë„, ìš°íšŒ ê°€ëŠ¥ |

---

## 7.2 ì˜ˆìƒ ì• ë¡œì‚¬í•­ ëª©ë¡

### ğŸ”´ HIGH Priority

---

#### R-01: í•œíˆ¬ API í† í° ë§Œë£Œ

**ì¹´í…Œê³ ë¦¬:** ğŸ”´ HIGH  
**ë°œìƒ í™•ë¥ :** ë†’ìŒ (ë§¤ì¼ ê°±ì‹  í•„ìš”)  
**ì˜í–¥ ë²”ìœ„:** ì „ì²´ ìŠ¤í¬ë¦¬ë‹ ë¶ˆê°€

**ìƒí™© ì„¤ëª…:**
í•œíˆ¬ API í† í°ì€ 24ì‹œê°„ ìœ íš¨í•˜ë©°, ë§Œë£Œ ì‹œ ëª¨ë“  API í˜¸ì¶œ ì‹¤íŒ¨

**ëŒ€ì‘ì „ëµ:**
1. **ì˜ˆë°©:** í† í° ë°œê¸‰ ì‹œê°„ ê¸°ë¡, ë§Œë£Œ 1ì‹œê°„ ì „ ìë™ ê°±ì‹ 
2. **íƒì§€:** API í˜¸ì¶œ ì‹œ 401 ì‘ë‹µ ê°ì§€
3. **ë³µêµ¬:** ì¦‰ì‹œ ì¬ë°œê¸‰ í›„ ì¬ì‹œë„
4. **ì½”ë“œ íŒ¨í„´:**
```python
class KISClient:
    def __init__(self):
        self.token = None
        self.token_expires_at = None
    
    def ensure_token(self):
        if not self.token or datetime.now() > self.token_expires_at - timedelta(hours=1):
            self.refresh_token()
    
    def api_call(self, endpoint, params):
        self.ensure_token()
        response = requests.get(...)
        if response.status_code == 401:
            self.refresh_token()
            response = requests.get(...)  # ì¬ì‹œë„
        return response
```

---

#### R-02: í•œíˆ¬ API Rate Limit ì´ˆê³¼

**ì¹´í…Œê³ ë¦¬:** ğŸ”´ HIGH  
**ë°œìƒ í™•ë¥ :** ì¤‘ê°„ (ì¢…ëª© ìˆ˜ì— ë”°ë¼)  
**ì˜í–¥ ë²”ìœ„:** ì¼ë¶€ ì¢…ëª© ë°ì´í„° ëˆ„ë½

**ìƒí™© ì„¤ëª…:**
ì´ˆë‹¹ 10íšŒ ì œí•œ ì´ˆê³¼ ì‹œ 429 ì—ëŸ¬, ì¼ë´‰ ì¡°íšŒ ì‹œ 100ê°œ ì¢…ëª© = 10ì´ˆ í•„ìš”

**ëŒ€ì‘ì „ëµ:**
1. **ì˜ˆë°©:** í˜¸ì¶œ ê°„ 0.15ì´ˆ ë”œë ˆì´ ì ìš©
2. **ìµœì í™”:** ë°°ì¹˜ ì²˜ë¦¬ ê°€ëŠ¥ API í™œìš©
3. **ë³µêµ¬:** 429 ì‘ë‹µ ì‹œ Retry-After í—¤ë” ëŒ€ê¸° í›„ ì¬ì‹œë„
4. **ëª¨ë‹ˆí„°ë§:** í˜¸ì¶œ íšŸìˆ˜ ë¡œê¹…
```python
import time
from functools import wraps

def rate_limited(max_per_second=10):
    min_interval = 1.0 / max_per_second
    last_call = [0.0]
    
    def decorator(func):
        @wraps(func)
        def wrapper(*args, **kwargs):
            elapsed = time.time() - last_call[0]
            if elapsed < min_interval:
                time.sleep(min_interval - elapsed)
            result = func(*args, **kwargs)
            last_call[0] = time.time()
            return result
        return wrapper
    return decorator
```

---

#### R-03: 15:00 ìŠ¤í¬ë¦¬ë‹ ì‹œê°„ ë‚´ ë¯¸ì™„ë£Œ

**ì¹´í…Œê³ ë¦¬:** ğŸ”´ HIGH  
**ë°œìƒ í™•ë¥ :** ë‚®ìŒ  
**ì˜í–¥ ë²”ìœ„:** ì¢…ê°€ë§¤ë§¤ ì‹œê·¸ë„ ì§€ì—°

**ìƒí™© ì„¤ëª…:**
15:00~15:30 ì‚¬ì´ì— ìŠ¤í¬ë¦¬ë‹ ì™„ë£Œë˜ì–´ì•¼ ì¢…ê°€ë§¤ë§¤ ì˜ì‚¬ê²°ì • ê°€ëŠ¥

**ëŒ€ì‘ì „ëµ:**
1. **ëª©í‘œ:** 5ë¶„ ì´ë‚´ ì™„ë£Œ (15:05ê¹Œì§€)
2. **ìµœì í™”:** ë³‘ë ¬ ì²˜ë¦¬, ìºì‹±, í•„ìˆ˜ ë°ì´í„°ë§Œ ì¡°íšŒ
3. **íƒ€ì„ì•„ì›ƒ:** ê°œë³„ API í˜¸ì¶œ 5ì´ˆ, ì „ì²´ 10ë¶„ íƒ€ì„ì•„ì›ƒ
4. **ë¶€ë¶„ ì™„ë£Œ:** 80% ì´ìƒ ë°ì´í„° í™•ë³´ ì‹œ PARTIAL ìƒíƒœë¡œ ì•Œë¦¼ ë°œì†¡
5. **ì•Œë¦¼:** ì§€ì—° ì‹œ ë””ìŠ¤ì½”ë“œë¡œ ì§€ì—° ì•Œë¦¼ ë°œì†¡

---

#### R-04: ì¥ ìš´ì˜ì¼ íŒë‹¨ ì˜¤ë¥˜

**ì¹´í…Œê³ ë¦¬:** ğŸ”´ HIGH  
**ë°œìƒ í™•ë¥ :** ë‚®ìŒ (ì—° 10íšŒ ì´í•˜)  
**ì˜í–¥ ë²”ìœ„:** ë¶ˆí•„ìš” ì‹¤í–‰ ë˜ëŠ” ëˆ„ë½

**ìƒí™© ì„¤ëª…:**
ê³µíœ´ì¼, ì„ì‹œíœ´ì¥ì¼ ë“± ì¥ ë¯¸ìš´ì˜ì¼ì— ì‹¤í–‰í•˜ê±°ë‚˜, ì¥ ìš´ì˜ì¼ì— ë¯¸ì‹¤í–‰

**ëŒ€ì‘ì „ëµ:**
1. **ë°ì´í„° ì†ŒìŠ¤:** í•œêµ­ê±°ë˜ì†Œ íœ´ì¥ì¼ API ë˜ëŠ” ê³µê³µë°ì´í„°
2. **ìºì‹±:** ì—°ì´ˆì— ì—°ê°„ íœ´ì¥ì¼ ìºì‹±
3. **Fallback:** í•œíˆ¬ API í˜¸ì¶œ ì‹¤íŒ¨ ì‹œ íœ´ì¥ì¼ë¡œ ê°„ì£¼
4. **ìˆ˜ë™ ì„¤ì •:** ì„ì‹œíœ´ì¥ ìˆ˜ë™ ë“±ë¡ ê¸°ëŠ¥
```python
HOLIDAYS_2025 = {
    date(2025, 1, 1),   # ì‹ ì •
    date(2025, 1, 28),  # ì„¤ë‚ 
    # ...
}

def is_market_open(d: date) -> bool:
    if d.weekday() >= 5:  # ì£¼ë§
        return False
    if d in HOLIDAYS_2025:
        return False
    return True
```

---

#### R-05: ë””ìŠ¤ì½”ë“œ ì›¹í›… URL ë¬´íš¨í™”

**ì¹´í…Œê³ ë¦¬:** ğŸ”´ HIGH  
**ë°œìƒ í™•ë¥ :** ë‚®ìŒ  
**ì˜í–¥ ë²”ìœ„:** ì•Œë¦¼ ìˆ˜ì‹  ë¶ˆê°€

**ìƒí™© ì„¤ëª…:**
ì›¹í›… ì‚­ì œ, ì±„ë„ ì‚­ì œ ë“±ìœ¼ë¡œ URL ë¬´íš¨í™”

**ëŒ€ì‘ì „ëµ:**
1. **íƒì§€:** 404 ì‘ë‹µ ê°ì§€ ì‹œ ì•Œë¦¼ (ë‹¤ë¥¸ ì±„ë„ë¡œ)
2. **Fallback:** ë³´ì¡° ì›¹í›… URL ì„¤ì •
3. **ë¡œê¹…:** ëª¨ë“  ë°œì†¡ ê²°ê³¼ DB ì €ì¥
4. **í—¬ìŠ¤ì²´í¬:** ì¼ 1íšŒ í…ŒìŠ¤íŠ¸ ë©”ì‹œì§€ ë°œì†¡

---

### ğŸŸ¡ MEDIUM Priority

---

#### R-06: pykrx ë¼ì´ë¸ŒëŸ¬ë¦¬ ì°¨ë‹¨ (ì´ë¯¸ ê²½í—˜)

**ì¹´í…Œê³ ë¦¬:** ğŸŸ¡ MEDIUM  
**ë°œìƒ í™•ë¥ :** í•´ë‹¹ ì—†ìŒ (í•œíˆ¬ API ì‚¬ìš©)  
**ì˜í–¥ ë²”ìœ„:** -

**ìƒí™© ì„¤ëª…:**
í•œêµ­ê±°ë˜ì†Œê°€ pykrx ë“± ìŠ¤í¬ë˜í•‘ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì°¨ë‹¨ (ì´ë¯¸ ê²½í—˜í•¨)

**ëŒ€ì‘ì „ëµ:**
1. **í˜„ì¬:** í•œíˆ¬ ê³µì‹ APIë§Œ ì‚¬ìš© (ì°¨ë‹¨ ìœ„í—˜ ì—†ìŒ)
2. **ë°±ì—…:** FinanceDataReader ëŒ€ì•ˆ ìœ ì§€
3. **ëª¨ë‹ˆí„°ë§:** API ë³€ê²½ ê³µì§€ í™•ì¸

---

#### R-07: CCI/MA ê³„ì‚°ì— í•„ìš”í•œ ê³¼ê±° ë°ì´í„° ë¶€ì¡±

**ì¹´í…Œê³ ë¦¬:** ğŸŸ¡ MEDIUM  
**ë°œìƒ í™•ë¥ :** ë‚®ìŒ (ì‹ ê·œ ìƒì¥ì£¼)  
**ì˜í–¥ ë²”ìœ„:** ì¼ë¶€ ì¢…ëª© ë¶„ì„ ë¶ˆê°€

**ìƒí™© ì„¤ëª…:**
ì‹ ê·œ ìƒì¥ 20ì¼ ë¯¸ë§Œ ì¢…ëª©ì€ MA20 ê³„ì‚° ë¶ˆê°€

**ëŒ€ì‘ì „ëµ:**
1. **í•„í„°ë§:** ìƒì¥ 20ì¼ ë¯¸ë§Œ ì¢…ëª© ìë™ ì œì™¸
2. **ëŒ€ì²´:** ë³´ìœ  ë°ì´í„°ë¡œ ê³„ì‚° ê°€ëŠ¥í•œ ê¸°ê°„ ì‚¬ìš©
3. **í‘œì‹œ:** ë°ì´í„° ë¶€ì¡± ì¢…ëª© ë³„ë„ í‘œì‹œ

---

#### R-08: ì ìˆ˜ ì‚°ì¶œ ë¡œì§ì˜ í¸í–¥

**ì¹´í…Œê³ ë¦¬:** ğŸŸ¡ MEDIUM  
**ë°œìƒ í™•ë¥ :** ì¤‘ê°„  
**ì˜í–¥ ë²”ìœ„:** TOP 3 í’ˆì§ˆ ì €í•˜

**ìƒí™© ì„¤ëª…:**
íŠ¹ì • ì§€í‘œì— ê³¼ë„í•˜ê²Œ ê°€ì¤‘ì¹˜ ë¶€ì—¬ ì‹œ ë‹¤ì–‘ì„± ê°ì†Œ

**ëŒ€ì‘ì „ëµ:**
1. **ê°€ì¤‘ì¹˜ ë²”ìœ„ ì œí•œ:** 0.5 ~ 2.0
2. **ì •ê·œí™”:** ê° ì§€í‘œ ì ìˆ˜ë¥¼ 0~10ìœ¼ë¡œ ì •ê·œí™”
3. **ë‹¤ì–‘ì„± ë³´ì¥:** TOP 3ì— ë™ì¼ ì—…ì¢… 2ê°œ ì´ìƒ ì œí•œ (ì„ íƒ)
4. **ë°±í…ŒìŠ¤íŒ…:** ì›” 1íšŒ ê³¼ê±° ë°ì´í„°ë¡œ ì„±ê³¼ ê²€ì¦

---

#### R-09: ë™ì‹œ ì‹¤í–‰ ì¶©ëŒ (12:30 / 15:00)

**ì¹´í…Œê³ ë¦¬:** ğŸŸ¡ MEDIUM  
**ë°œìƒ í™•ë¥ :** ë‚®ìŒ  
**ì˜í–¥ ë²”ìœ„:** ë°ì´í„° ë¬´ê²°ì„±

**ìƒí™© ì„¤ëª…:**
12:30 í”„ë¦¬ë·°ê°€ ì§€ì—°ë˜ì–´ 15:00 ìŠ¤í¬ë¦¬ë‹ê³¼ ì¶©ëŒ

**ëŒ€ì‘ì „ëµ:**
1. **Lock:** ìŠ¤í¬ë¦¬ë‹ ì‹¤í–‰ ì‹œ íŒŒì¼ ë½ ì‚¬ìš©
2. **íƒ€ì„ì•„ì›ƒ:** 12:30 ì‘ì—…ì€ 14:30ê¹Œì§€ë§Œ ì‹¤í–‰
3. **ë…ë¦½ì„±:** 12:30ì€ DB ì €ì¥ ì•ˆ í•¨ (ì¶©ëŒ ì›ì²œ ì°¨ë‹¨)
```python
from filelock import FileLock

lock = FileLock("/tmp/screener.lock", timeout=10)

def run_screening():
    with lock:
        # ìŠ¤í¬ë¦¬ë‹ ì‹¤í–‰
        pass
```

---

#### R-10: SQLite ë™ì‹œ ì“°ê¸° ì¶©ëŒ

**ì¹´í…Œê³ ë¦¬:** ğŸŸ¡ MEDIUM  
**ë°œìƒ í™•ë¥ :** ë‚®ìŒ  
**ì˜í–¥ ë²”ìœ„:** ë°ì´í„° ì €ì¥ ì‹¤íŒ¨

**ìƒí™© ì„¤ëª…:**
ìŠ¤í¬ë¦¬ë‹ê³¼ ëŒ€ì‹œë³´ë“œê°€ ë™ì‹œì— DB ì ‘ê·¼ ì‹œ ì¶©ëŒ

**ëŒ€ì‘ì „ëµ:**
1. **WAL ëª¨ë“œ:** ì½ê¸°/ì“°ê¸° ë™ì‹œ í—ˆìš©
2. **íƒ€ì„ì•„ì›ƒ:** busy_timeout ì„¤ì • (30ì´ˆ)
3. **ì¬ì‹œë„:** ì ê¸ˆ ì‹¤íŒ¨ ì‹œ 3íšŒ ì¬ì‹œë„
```python
conn = sqlite3.connect(db_path)
conn.execute("PRAGMA journal_mode=WAL")
conn.execute("PRAGMA busy_timeout=30000")
```

---

#### R-11: ìµì¼ ê²°ê³¼ ìˆ˜ì§‘ ì‹œì  ë¬¸ì œ

**ì¹´í…Œê³ ë¦¬:** ğŸŸ¡ MEDIUM  
**ë°œìƒ í™•ë¥ :** ì¤‘ê°„  
**ì˜í–¥ ë²”ìœ„:** ê°€ì¤‘ì¹˜ ìµœì í™” ì •í™•ë„

**ìƒí™© ì„¤ëª…:**
16:00ì— ìµì¼ ê²°ê³¼ ìˆ˜ì§‘ ì‹œ ì•„ì§ ì¥ ë§ˆê° ì „ (15:30 ë§ˆê°, ì •ì‚° ì§€ì—°)

**ëŒ€ì‘ì „ëµ:**
1. **ìˆ˜ì§‘ ì‹œì :** 16:30 ì´í›„ë¡œ ì„¤ì •
2. **ê²€ì¦:** ì¢…ê°€ ë°ì´í„° ì¡´ì¬ ì—¬ë¶€ í™•ì¸ í›„ ì²˜ë¦¬
3. **ì¬ì‹œë„:** ë°ì´í„° ë¯¸ì¡´ì¬ ì‹œ 1ì‹œê°„ í›„ ì¬ì‹œë„

---

#### R-12: ê°€ì¤‘ì¹˜ ê³¼ì í•© (Overfitting)

**ì¹´í…Œê³ ë¦¬:** ğŸŸ¡ MEDIUM  
**ë°œìƒ í™•ë¥ :** ì¤‘ê°„  
**ì˜í–¥ ë²”ìœ„:** ì˜ˆì¸¡ ì„±ëŠ¥ ì €í•˜

**ìƒí™© ì„¤ëª…:**
ê³¼ê±° ë°ì´í„°ì— ê³¼ì í•©ë˜ì–´ ì‹¤ì œ ì„±ê³¼ ì €í•˜

**ëŒ€ì‘ì „ëµ:**
1. **ìµœì†Œ ìƒ˜í”Œ:** 30ì¼ ì´ìƒ ë°ì´í„° í•„ìš”
2. **ë³€ê²½ ì œí•œ:** 1íšŒ ì¡°ì • ì‹œ Â±0.1 ì´ë‚´
3. **ë¡¤ë°±:** ì„±ê³¼ ì•…í™” ì‹œ ì´ì „ ê°€ì¤‘ì¹˜ ë³µì›
4. **ê²€ì¦:** ì¡°ì • í›„ 2ì£¼ê°„ ëª¨ë‹ˆí„°ë§

---

### ğŸŸ¢ LOW Priority

---

#### R-13: Streamlit ì„¸ì…˜ íƒ€ì„ì•„ì›ƒ

**ì¹´í…Œê³ ë¦¬:** ğŸŸ¢ LOW  
**ë°œìƒ í™•ë¥ :** ë†’ìŒ (ì •ìƒ ë™ì‘)  
**ì˜í–¥ ë²”ìœ„:** ì‚¬ìš©ì ë¶ˆí¸

**ìƒí™© ì„¤ëª…:**
ì¥ì‹œê°„ ë¯¸ì‚¬ìš© ì‹œ ì„¸ì…˜ ë§Œë£Œ

**ëŒ€ì‘ì „ëµ:**
1. **ìë™ ê°±ì‹ :** st.rerun() ì£¼ê¸°ì  í˜¸ì¶œ (ì„ íƒ)
2. **ìƒíƒœ ì €ì¥:** session_state í™œìš©
3. **ì•ˆë‚´:** ìƒˆë¡œê³ ì¹¨ ì•ˆë‚´ ë©”ì‹œì§€

---

#### R-14: ë¡œê·¸ íŒŒì¼ ìš©ëŸ‰ ì¦ê°€

**ì¹´í…Œê³ ë¦¬:** ğŸŸ¢ LOW  
**ë°œìƒ í™•ë¥ :** í™•ì‹¤  
**ì˜í–¥ ë²”ìœ„:** ë””ìŠ¤í¬ ê³µê°„

**ìƒí™© ì„¤ëª…:**
ì¥ê¸° ìš´ì˜ ì‹œ ë¡œê·¸ íŒŒì¼ ë¬´í•œ ì¦ê°€

**ëŒ€ì‘ì „ëµ:**
1. **ë¡œí…Œì´ì…˜:** RotatingFileHandler (10MB, 5ê°œ)
2. **ë ˆë²¨ ì¡°ì •:** ìš´ì˜ ì‹œ INFO, ë””ë²„ê·¸ ì‹œ DEBUG
3. **ì •ë¦¬:** 30ì¼ ì´ìƒ ë¡œê·¸ ìë™ ì‚­ì œ
```python
from logging.handlers import RotatingFileHandler

handler = RotatingFileHandler(
    'logs/screener.log',
    maxBytes=10*1024*1024,  # 10MB
    backupCount=5
)
```

---

#### R-15: í™˜ê²½ ë³€ìˆ˜ ëˆ„ë½

**ì¹´í…Œê³ ë¦¬:** ğŸŸ¢ LOW  
**ë°œìƒ í™•ë¥ :** ë‚®ìŒ (ì´ˆê¸° ì„¤ì • ì‹œ)  
**ì˜í–¥ ë²”ìœ„:** ì‹œì‘ ì‹¤íŒ¨

**ìƒí™© ì„¤ëª…:**
.env íŒŒì¼ ëˆ„ë½ ë˜ëŠ” í•„ìˆ˜ ë³€ìˆ˜ ë¯¸ì„¤ì •

**ëŒ€ì‘ì „ëµ:**
1. **ê²€ì¦:** ì‹œì‘ ì‹œ í•„ìˆ˜ ë³€ìˆ˜ ì²´í¬
2. **ê¸°ë³¸ê°’:** ì„ íƒ ë³€ìˆ˜ëŠ” ê¸°ë³¸ê°’ ì œê³µ
3. **ì˜ˆì‹œ:** .env.example íŒŒì¼ ì œê³µ
```python
REQUIRED_ENV = ['KIS_APP_KEY', 'KIS_APP_SECRET', 'DISCORD_WEBHOOK_URL']

def validate_env():
    missing = [key for key in REQUIRED_ENV if not os.getenv(key)]
    if missing:
        raise ValueError(f"Missing env vars: {missing}")
```

---

#### R-16: í…ŒìŠ¤íŠ¸ í™˜ê²½ê³¼ ìš´ì˜ í™˜ê²½ ì°¨ì´

**ì¹´í…Œê³ ë¦¬:** ğŸŸ¢ LOW  
**ë°œìƒ í™•ë¥ :** ì¤‘ê°„  
**ì˜í–¥ ë²”ìœ„:** ë²„ê·¸ ë¯¸íƒì§€

**ìƒí™© ì„¤ëª…:**
ì‹¤í™˜ê²½ì—ì„œë§Œ ë°œìƒí•˜ëŠ” ë²„ê·¸

**ëŒ€ì‘ì „ëµ:**
1. **ëª¨ì˜ íˆ¬ì:** í•œíˆ¬ ëª¨ì˜íˆ¬ì í™˜ê²½ í™œìš©
2. **ìŠ¤í…Œì´ì§•:** ë³„ë„ DBë¡œ ìš´ì˜ ì „ í…ŒìŠ¤íŠ¸
3. **ì ì§„ ë°°í¬:** 12:30 í”„ë¦¬ë·° ë¨¼ì € ê²€ì¦

---

#### R-17: ì¢…ëª©ì½”ë“œ ë³€ê²½

**ì¹´í…Œê³ ë¦¬:** ğŸŸ¢ LOW  
**ë°œìƒ í™•ë¥ :** ë‚®ìŒ (ì—° ìˆ˜íšŒ)  
**ì˜í–¥ ë²”ìœ„:** ë°ì´í„° ë¶ˆì¼ì¹˜

**ìƒí™© ì„¤ëª…:**
í•©ë³‘, ë¶„í•  ë“±ìœ¼ë¡œ ì¢…ëª©ì½”ë“œ ë³€ê²½

**ëŒ€ì‘ì „ëµ:**
1. **ì°¸ì¡°:** ì¢…ëª©ì½”ë“œ + ë‚ ì§œë¡œ ì‹ë³„
2. **ë§¤í•‘:** ë³€ê²½ ì´ë ¥ í…Œì´ë¸” (ì„ íƒ)
3. **ì•Œë¦¼:** ì¡°íšŒ ì‹¤íŒ¨ ì¢…ëª© ì•Œë¦¼

---

#### R-18: ì˜ì¡´ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë²„ì „ ì¶©ëŒ

**ì¹´í…Œê³ ë¦¬:** ğŸŸ¢ LOW  
**ë°œìƒ í™•ë¥ :** ì¤‘ê°„ (ì—…ë°ì´íŠ¸ ì‹œ)  
**ì˜í–¥ ë²”ìœ„:** ì‹¤í–‰ ì˜¤ë¥˜

**ìƒí™© ì„¤ëª…:**
ë¼ì´ë¸ŒëŸ¬ë¦¬ ì—…ë°ì´íŠ¸ ì‹œ í˜¸í™˜ì„± ë¬¸ì œ

**ëŒ€ì‘ì „ëµ:**
1. **ê³ ì •:** requirements.txt ë²„ì „ ê³ ì •
2. **ê°€ìƒí™˜ê²½:** venv ì‚¬ìš©
3. **í…ŒìŠ¤íŠ¸:** ì—…ë°ì´íŠ¸ ì „ í…ŒìŠ¤íŠ¸ ì‹¤í–‰

---

#### R-19: ë„¤íŠ¸ì›Œí¬ ì¼ì‹œ ì¥ì• 

**ì¹´í…Œê³ ë¦¬:** ğŸŸ¢ LOW  
**ë°œìƒ í™•ë¥ :** ë‚®ìŒ  
**ì˜í–¥ ë²”ìœ„:** ì¼ì‹œì  API ì‹¤íŒ¨

**ìƒí™© ì„¤ëª…:**
ìˆœê°„ì ì¸ ë„¤íŠ¸ì›Œí¬ ë¶ˆì•ˆì •

**ëŒ€ì‘ì „ëµ:**
1. **ì¬ì‹œë„:** ì§€ìˆ˜ ë°±ì˜¤í”„ (1ì´ˆ â†’ 2ì´ˆ â†’ 4ì´ˆ)
2. **íƒ€ì„ì•„ì›ƒ:** ì—°ê²° 5ì´ˆ, ì½ê¸° 30ì´ˆ
3. **íšŒë¡œ ì°¨ë‹¨ê¸°:** ì—°ì† ì‹¤íŒ¨ ì‹œ ì¼ì • ì‹œê°„ ëŒ€ê¸°
```python
from tenacity import retry, stop_after_attempt, wait_exponential

@retry(stop=stop_after_attempt(3), wait=wait_exponential(multiplier=1, max=10))
def api_call():
    pass
```

---

#### R-20: ì˜ˆìƒì¹˜ ëª»í•œ API ì‘ë‹µ í˜•ì‹

**ì¹´í…Œê³ ë¦¬:** ğŸŸ¢ LOW  
**ë°œìƒ í™•ë¥ :** ë‚®ìŒ  
**ì˜í–¥ ë²”ìœ„:** íŒŒì‹± ì˜¤ë¥˜

**ìƒí™© ì„¤ëª…:**
API ì‘ë‹µ ìŠ¤í‚¤ë§ˆ ë³€ê²½

**ëŒ€ì‘ì „ëµ:**
1. **ê²€ì¦:** ì‘ë‹µ í•„ë“œ ì¡´ì¬ ì—¬ë¶€ ì²´í¬
2. **ê¸°ë³¸ê°’:** ëˆ„ë½ í•„ë“œ ê¸°ë³¸ê°’ ì²˜ë¦¬
3. **ì•Œë¦¼:** íŒŒì‹± ì˜¤ë¥˜ ì‹œ ì•Œë¦¼ ë°œì†¡
```python
def parse_daily_price(data: dict) -> DailyPrice:
    return DailyPrice(
        close=int(data.get('stck_clpr', 0)),
        open=int(data.get('stck_oprc', 0)),
        high=int(data.get('stck_hgpr', 0)),
        low=int(data.get('stck_lwpr', 0)),
    )
```

---

## 7.3 ë¦¬ìŠ¤í¬ ë§¤íŠ¸ë¦­ìŠ¤

```
                     ì˜í–¥ë„
              ë‚®ìŒ    ì¤‘ê°„    ë†’ìŒ
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
    ë†’ìŒ â”‚ R-14   â”‚ R-08   â”‚ R-01   â”‚
         â”‚ R-15   â”‚ R-12   â”‚ R-02   â”‚
 ë°œ      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 ìƒ      â”‚ R-13   â”‚ R-06   â”‚ R-03   â”‚
 í™•  ì¤‘ê°„â”‚ R-16   â”‚ R-09   â”‚ R-04   â”‚
 ë¥       â”‚ R-18   â”‚ R-11   â”‚ R-05   â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    ë‚®ìŒ â”‚ R-17   â”‚ R-07   â”‚        â”‚
         â”‚ R-19   â”‚ R-10   â”‚        â”‚
         â”‚ R-20   â”‚        â”‚        â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7.4 ë¦¬ìŠ¤í¬ ëŒ€ì‘ ìš°ì„ ìˆœìœ„

| ìˆœìœ„ | ID | ë¦¬ìŠ¤í¬ | ì¦‰ì‹œ ëŒ€ì‘ í•„ìš” |
|------|-----|--------|---------------|
| 1 | R-01 | í† í° ë§Œë£Œ | âœ… ì½”ë“œì— ë°˜ì˜ |
| 2 | R-02 | Rate Limit | âœ… ì½”ë“œì— ë°˜ì˜ |
| 3 | R-03 | ìŠ¤í¬ë¦¬ë‹ ì§€ì—° | âœ… íƒ€ì„ì•„ì›ƒ ì„¤ì • |
| 4 | R-04 | íœ´ì¥ì¼ íŒë‹¨ | âœ… íœ´ì¥ì¼ ë°ì´í„° |
| 5 | R-05 | ì›¹í›… ë¬´íš¨í™” | â¬œ ë³´ì¡° ì±„ë„ |
| 6 | R-08 | ì ìˆ˜ í¸í–¥ | â¬œ ê°€ì¤‘ì¹˜ ì œí•œ |
| 7 | R-12 | ê³¼ì í•© | â¬œ ë³€ê²½ ì œí•œ |

---

## 7.5 ë¬¸ì„œ ì´ë ¥

| ë²„ì „ | ë‚ ì§œ | ë³€ê²½ ë‚´ìš© | ì‘ì„±ì |
|------|------|----------|--------|
| 1.0 | 2025-01-06 | ì´ˆì•ˆ ì‘ì„± | Architect AI |

---

**ì´ì „ ë¬¸ì„œ:** [06_Architecture.md](./06_Architecture.md)  
**ë‹¤ìŒ ë¬¸ì„œ:** [08_Test_Plan.md](./08_Test_Plan.md)
