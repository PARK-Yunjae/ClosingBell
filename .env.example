# ===========================================
# 종가매매 스크리너 환경 변수 설정
# ===========================================
# 이 파일을 .env로 복사한 후 실제 값을 입력하세요.
# cp .env.example .env (Linux/Mac)
# copy .env.example .env (Windows)

# -------------------------------------------
# 한국투자증권 API 설정 (필수)
# -------------------------------------------
# 한국투자증권 개발자센터에서 발급받은 API 키
# https://apiportal.koreainvestment.com/
# 
# 발급 방법:
# 1. 한국투자증권 계좌 개설
# 2. 개발자센터 가입 및 앱 등록
# 3. APP_KEY, APP_SECRET 발급

KIS_APP_KEY=YOUR_APP_KEY_HERE
KIS_APP_SECRET=YOUR_APP_SECRET_HERE

# 계좌번호 (8자리-2자리 형식, 조회만 할 경우 선택)
KIS_ACCOUNT_NO=12345678-01

# API 서버 URL
# 실전: https://openapi.koreainvestment.com:9443
# 모의: https://openapivts.koreainvestment.com:29443
KIS_BASE_URL=https://openapi.koreainvestment.com:9443

# HTS 사용자 ID (조건검색 API 사용 시 필수)
# HTS 로그인 시 사용하는 ID (영투/개미킹 등 앱에서 확인 가능)
KIS_HTS_ID=YOUR_HTS_ID_HERE

# -------------------------------------------
# 디스코드 웹훅 설정 (권장)
# -------------------------------------------
# 디스코드 서버 > 채널설정 > 연동 > 웹후크에서 생성
# 
# 설정 방법:
# 1. 디스코드에서 알림받을 채널 선택
# 2. 채널 설정 > 연동 > 웹후크 > 새 웹후크
# 3. 웹후크 URL 복사

DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR_WEBHOOK_ID/YOUR_WEBHOOK_TOKEN

# -------------------------------------------
# 데이터베이스 설정
# -------------------------------------------
# SQLite DB 파일 경로 (기본값: data/screener.db)
DB_PATH=data/screener.db

# -------------------------------------------
# 로깅 설정
# -------------------------------------------
# 로그 레벨: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# 로그 파일 경로 (기본값: logs/screener.log)
# 참고: 일별 로그는 logs/YYYY-MM-DD.log 형식으로 자동 분리됨
LOG_PATH=logs/screener.log

# -------------------------------------------
# 스크리닝 설정
# -------------------------------------------
# 최소 거래대금 (억원)
MIN_TRADING_VALUE=100

# 프리뷰 스크리닝 시간 (HH:MM)
SCREENING_TIME_1=12:30

# 최종 스크리닝 시간 (HH:MM)
SCREENING_TIME_2=15:00

# 학습 시간 (HH:MM)
LEARNING_TIME=16:30

# -------------------------------------------
# 익일 결과 수집 설정
# -------------------------------------------
# 전체 종목 익일 결과 수집 여부
# true: 전체 스크리닝 종목의 익일 결과 수집 (학습 데이터 풍부)
# false: TOP3만 수집 (API 호출 최소화)
COLLECT_ALL_STOCKS=true

# API 호출 간격 (초, Rate Limit 방지)
# 기본값: 0.12 (초당 약 8회)
# 주의: 너무 낮게 설정하면 Rate Limit 에러 발생
API_CALL_INTERVAL=0.12

# -------------------------------------------
# 유니버스 설정 (조건검색 기반)
# -------------------------------------------
# 유니버스 소스 선택
# condition_search: 조건검색 기반 (권장, HTS_ID 필요)
# volume_rank: 거래대금 상위 API
UNIVERSE_SOURCE=condition_search

# 조건검색식 이름 (HTS에 등록된 이름과 정확히 일치해야 함)
CONDITION_NAME=TV200

# 최소 유니버스 종목 수 (이보다 적으면 fallback 실행)
MIN_CANDIDATES=30

# Fallback 활성화 여부 (조건검색 실패/부족 시 자동 대체)
FALLBACK_ENABLED=true

# 제외 키워드 (쉼표로 구분, 기본 키워드에 추가됨)
# 예: EXCLUDE_KEYWORDS=우선주,신주인수권
EXCLUDE_KEYWORDS=

# -------------------------------------------
# 이메일 알림 설정 (선택, 미구현)
# -------------------------------------------
# EMAIL_ENABLED=false
# EMAIL_SMTP_SERVER=smtp.gmail.com
# EMAIL_SMTP_PORT=587
# EMAIL_SENDER=your_email@gmail.com
# EMAIL_PASSWORD=your_app_password
# EMAIL_RECEIVER=receiver@gmail.com

# -------------------------------------------
# 텔레그램 알림 설정 (선택, 미구현)
# -------------------------------------------
# @BotFather에서 봇 생성 후 토큰 발급
# TELEGRAM_BOT_TOKEN=YOUR_BOT_TOKEN_HERE
# TELEGRAM_CHAT_ID=YOUR_CHAT_ID_HERE
# -------------------------------------------
